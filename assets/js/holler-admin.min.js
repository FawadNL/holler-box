!function(e,i,t,n){var a={};a.init=function(){a.listeners(),a.toggleShowOn(),a.toggleTypes(),a.toggleDatepicker(),a.emailCheckbox(),a.toggleEmailForm(),t(".hwp-datepicker").datepicker({dateFormat:"mm/dd/yy"}),t(".hwp-colors").wpColorPicker()},a.listeners=function(){t(i).on("tinymce-editor-init",function(i,t){a.updatePreviewContent(),e.tinymce.activeEditor.on("keyup",function(e){a.updatePreviewContent()})}),t("#wp-content-wrap").hasClass("html-active")&&a.updatePreviewContent(),t("body").on("change","input[name=show_optin]",a.emailCheckbox).on("change",".hwp-switch input",a.toggleSwitch).on("change","input[name=expiration]",a.toggleDatepicker).on("change","input[name=show_on]",a.toggleShowOn).on("change","input[name=hwp_type]",a.toggleTypes).on("change","select[name=email_provider]",a.toggleEmailForm).on("keyup","#content",a.updatePreviewContent).on("focus","input#scroll_delay",function(){t("input[name=display_when][value=delay]").prop("checked","checked")}).on("click","#hwp-upload-btn",a.mediaUpload),t("#show_on_pages").suggest(e.ajaxurl+"?action=hwp_ajax_page_search",{multiple:!0,multipleSep:","})},a.toggleShowOn=function(){var e=t("input[name=show_on]:checked").val(),i=t("#show-certain-pages"),n=t("#hwp-cats"),a=t("#hwp-tags"),d=t("#hwp-types"),h=t("#hwp-exclude");switch(e){case"all":n.hide(),a.hide(),i.hide(),d.hide(),h.hide();break;case"limited":n.show(),a.show(),i.show(),d.show(),h.show();break;default:n.hide(),a.hide(),i.hide(),d.hide(),h.hide()}},a.toggleTypes=function(){var e=t("input[name=hwp_type]:checked").val(),i=t("#position-settings"),n=t("#popout_meta_box, #show_chat"),a=t("#hide_btn, label[for=hide_btn]"),d=t("#popout_meta_box"),h=t("#show-optin"),o=t(".avatar-email"),p=t("#popup-templates"),c=t("#popup-options"),l=t("#hwp-name-fields"),s=t("#send-btn-color"),r=t("#fomo-settings");switch(e){case"holler-banner":n.hide(),a.hide(),d.hide(),i.hide(),h.fadeIn(),o.hide(),p.hide(),c.hide(),l.hide(),s.show(),r.hide();break;case"footer-bar":n.hide(),a.hide(),d.hide(),i.hide(),h.fadeIn(),o.hide(),p.hide(),c.show(),l.hide(),s.show(),r.hide();break;case"hwp-popup":p.fadeIn(),l.fadeIn(),a.hide(),n.fadeIn(),d.hide(),i.hide(),h.fadeIn(),o.hide(),c.fadeIn(),s.show(),r.hide();break;case"popout":d.fadeIn(),i.fadeIn(),h.fadeIn(),o.fadeIn(),p.hide(),c.hide(),l.hide(),s.show(),r.hide();break;case"fomo":r.fadeIn(),d.hide(),n.hide(),h.hide(),o.hide(),p.hide(),c.hide(),l.hide(),s.hide(),a.hide();break;default:n.fadeIn(),a.fadeIn(),i.fadeIn(),d.hide(),h.fadeIn(),o.fadeIn(),p.hide(),c.hide(),l.fadeIn(),s.show(),r.hide()}},a.emailCheckbox=function(){var e=t("#show-email-options");t("input[name=show_optin]").is(":checked")?e.fadeIn():e.fadeOut(200)},a.toggleEmailForm=function(){var e=t("#send-to-option"),i=t("#default-email-options"),n=t("#custom-email-options"),a=t("select[name=email_provider]").val(),d=t("input[name=item_type]:checked").val(),h=t("#mailchimp-fields"),o=t("#ac-fields"),p=t("#convertkit-fields"),c=t("#mailpoet-fields"),l=t("#drip-fields");"optin"===d&&t("#show-email-options").fadeIn(),"default"===a?(e.fadeIn(),i.fadeIn(),n.hide(),p.hide(),h.hide(),c.hide(),o.hide(),l.hide()):"custom"===a?(n.fadeIn(),i.hide(),e.hide(),p.hide(),h.hide(),c.hide(),o.hide(),l.hide()):"mc"===a?(h.fadeIn(),i.fadeIn(),p.hide(),n.hide(),e.hide(),c.hide(),o.hide(),l.hide()):"ck"===a?(p.fadeIn(),i.fadeIn(),h.hide(),n.hide(),e.hide(),c.hide(),o.hide(),l.hide()):"mailpoet"===a?(c.fadeIn(),i.fadeIn(),h.hide(),n.hide(),e.hide(),p.hide(),o.hide(),l.hide()):"ac"===a?(p.hide(),i.fadeIn(),h.hide(),n.hide(),e.hide(),c.hide(),o.fadeIn(),l.hide()):"drip"===a&&(l.fadeIn(),p.hide(),i.fadeIn(),h.hide(),n.hide(),e.hide(),c.hide(),o.hide())},a.toggleChat=function(){t("input[name=show_chat]").is(":checked")?t("#hwp-chat").removeClass("hwp-hide"):t("#hwp-chat").addClass("hwp-hide")},a.toggleSwitch=function(){a.toggleActiveAjax(t(this).data("id"))},a.toggleActiveAjax=function(i){var n={action:"hwp_toggle_active",id:i};t.ajax({method:"GET",url:e.ajaxurl,data:n}).done(function(e){}).fail(function(e){console.log(e)})},a.toggleDatepicker=function(){t("input[name=expiration]").is(":checked")?t("#hwp-until-datepicker").show():t("#hwp-until-datepicker").hide()},a.updatePreviewContent=function(){var n;n=t("#wp-content-wrap").hasClass("tmce-active")?e.tinymce.get("content").getContent():t("#content").val();var a=i.getElementById("hwp-first-row");a&&(a.innerHTML=n)},a.mediaUpload=function(e){e.preventDefault();var i;i?i.open():((i=wp.media.frames.file_frame=wp.media({title:"Choose Image",button:{text:"Choose Image"},multiple:!1})).on("select",function(){var e=i.state().get("selection").first().toJSON();t("#hwp-image-url").val(e.url),t(".hwp-popup-image").attr("src",e.url)}),i.open())},a.init(),e.hollerAdmin=a}(window,document,jQuery);