!function(e,i,t,d){var n={};n.init=function(){n.listeners(),n.toggleShowOn(),n.toggleTypes(),n.toggleDatepicker(),n.emailCheckbox(),n.toggleEmailForm(),t(".hwp-datepicker").datepicker({dateFormat:"mm/dd/yy"}),t(".hwp-colors").wpColorPicker()},n.listeners=function(){t(i).on("tinymce-editor-init",function(i,t){n.updatePreviewContent(),e.tinymce.activeEditor.on("keyup",function(e){n.updatePreviewContent()})}),t("#wp-content-wrap").hasClass("html-active")&&n.updatePreviewContent(),t("body").on("change","input[name=show_optin]",n.emailCheckbox).on("change",".hwp-switch input",n.toggleSwitch).on("change","input[name=expiration]",n.toggleDatepicker).on("change","input[name=show_on]",n.toggleShowOn).on("change","input[name=hwp_type]",n.toggleTypes).on("change","select[name=email_provider]",n.toggleEmailForm).on("keyup","#content",n.updatePreviewContent).on("focus","input#scroll_delay",function(){t("input[name=display_when][value=delay]").prop("checked","checked")}).on("click","#hwp-upload-btn",n.mediaUpload),t("#show_on_pages").suggest(e.ajaxurl+"?action=hwp_ajax_page_search",{multiple:!0,multipleSep:","})},n.toggleShowOn=function(){var e=t("input[name=show_on]:checked").val(),i=t("#show-certain-pages"),d=t("#hwp-cats"),n=t("#hwp-tags"),a=t("#hwp-types"),h=t("#hwp-exclude");switch(e){case"all":d.hide(),n.hide(),i.hide(),a.hide(),h.hide();break;case"limited":d.show(),n.show(),i.show(),a.show(),h.show();break;default:d.hide(),n.hide(),i.hide(),a.hide(),h.hide()}},n.toggleTypes=function(){var e=t("input[name=hwp_type]:checked").val(),i=t("#position-settings"),d=t("#popout_meta_box, #show_chat"),n=t("#hide_btn, label[for=hide_btn]"),a=t("#popout_meta_box"),h=t("#show-optin"),o=t(".avatar-email"),p=t("#popup-templates"),c=t("#popup-options"),l=t("#hwp-name-fields"),s=t("#send-btn-color"),r=t("#fomo-settings");switch(e){case"holler-banner":d.hide(),n.hide(),a.hide(),i.hide(),h.fadeIn(),o.hide(),p.hide(),c.hide(),l.hide(),s.show(),r.hide();break;case"footer-bar":d.hide(),n.hide(),a.hide(),i.hide(),h.fadeIn(),o.hide(),p.hide(),c.show(),l.hide(),s.show(),r.hide();break;case"hwp-popup":p.fadeIn(),l.fadeIn(),n.hide(),d.fadeIn(),a.hide(),i.hide(),h.fadeIn(),o.hide(),c.fadeIn(),s.show(),r.hide();break;case"popout":a.fadeIn(),i.fadeIn(),h.fadeIn(),o.fadeIn(),p.hide(),c.hide(),l.hide(),s.show(),r.hide();break;case"fomo":r.fadeIn(),a.hide(),d.hide(),h.hide(),o.hide(),p.hide(),c.hide(),l.hide(),s.hide(),n.hide();break;default:d.fadeIn(),n.fadeIn(),i.fadeIn(),a.hide(),h.fadeIn(),o.fadeIn(),p.hide(),c.hide(),l.hide(),s.show(),r.hide()}},n.emailCheckbox=function(){var e=t("#show-email-options");t("input[name=show_optin]").is(":checked")?e.fadeIn():e.fadeOut(200)},n.toggleEmailForm=function(){var e=t("#send-to-option"),i=t("#default-email-options"),d=t("#custom-email-options"),n=t("select[name=email_provider]").val(),a=t("input[name=item_type]:checked").val(),h=t("#mailchimp-fields"),o=t("#ac-fields"),p=t("#convertkit-fields"),c=t("#mailpoet-fields"),l=t("#drip-fields");"optin"===a&&t("#show-email-options").fadeIn(),"default"===n?(e.fadeIn(),i.fadeIn(),d.hide(),p.hide(),h.hide(),c.hide(),o.hide(),l.hide()):"custom"===n?(d.fadeIn(),i.hide(),e.hide(),p.hide(),h.hide(),c.hide(),o.hide(),l.hide()):"mc"===n?(h.fadeIn(),i.fadeIn(),p.hide(),d.hide(),e.hide(),c.hide(),o.hide(),l.hide()):"ck"===n?(p.fadeIn(),i.fadeIn(),h.hide(),d.hide(),e.hide(),c.hide(),o.hide(),l.hide()):"mailpoet"===n?(c.fadeIn(),i.fadeIn(),h.hide(),d.hide(),e.hide(),p.hide(),o.hide(),l.hide()):"ac"===n?(p.hide(),i.fadeIn(),h.hide(),d.hide(),e.hide(),c.hide(),o.fadeIn(),l.hide()):"drip"===n&&(l.fadeIn(),p.hide(),i.fadeIn(),h.hide(),d.hide(),e.hide(),c.hide(),o.hide())},n.toggleChat=function(){t("input[name=show_chat]").is(":checked")?t("#hwp-chat").removeClass("hwp-hide"):t("#hwp-chat").addClass("hwp-hide")},n.toggleSwitch=function(){n.toggleActiveAjax(t(this).data("id"))},n.toggleActiveAjax=function(i){var d={action:"hwp_toggle_active",id:i};t.ajax({method:"GET",url:e.ajaxurl,data:d}).done(function(e){}).fail(function(e){console.log(e)})},n.toggleDatepicker=function(){t("input[name=expiration]").is(":checked")?t("#hwp-until-datepicker").show():t("#hwp-until-datepicker").hide()},n.updatePreviewContent=function(){var d;d=t("#wp-content-wrap").hasClass("tmce-active")?e.tinymce.get("content").getContent():t("#content").val();var n=i.getElementById("hwp-first-row");n&&(n.innerHTML=d)},n.mediaUpload=function(e){e.preventDefault();var i;i?i.open():((i=wp.media.frames.file_frame=wp.media({title:"Choose Image",button:{text:"Choose Image"},multiple:!1})).on("select",function(){var e=i.state().get("selection").first().toJSON();t("#hwp-image-url").val(e.url),t(".hwp-popup-image").attr("src",e.url)}),i.open())},n.init(),e.hollerAdmin=n}(window,document,jQuery);